<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="Running the import command">

        <meta property="og:site_name" content="LdapRecord"/>
        <meta property="og:title" content="Importing Users | LdapRecord"/>
        <meta property="og:description" content="Running the import command"/>
        <meta property="og:url" content="https://ldaprecord.com/docs/laravel/auth/importing"/>
        <meta property="og:image" content="/assets/img/logo.png"/>
        <meta property="og:type" content="website"/>

        <meta name="twitter:image:alt" content="LdapRecord">
        <meta name="twitter:card" content="summary_large_image">

                    <meta name="generator" content="tighten_jigsaw_doc">
        
        <title>LdapRecord | Importing Users</title>

        <link rel="home" href="https://ldaprecord.com">
        <link rel="icon" href="/favicon.ico">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">

        
        <link rel="stylesheet" href="/assets/build/css/main.css?id=a63e088ad20b43b2400c">

                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
            </head>
    <body class="antialiased font-sans">
        <nav class="flex items-center h-24 py-12 z-20 border-gradient-l-purple-light border-b-8 mb-2" role="banner">
            <div class="container flex items-center max-w-8xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="/" title="LdapRecord home" class="inline-flex items-center">
                        <img class="h-20 md:h-24 mr-3" src="/assets/img/logo.svg" alt="LdapRecord logo" />
                    </a>
                </div>

                <div class="flex flex-1 justify-end items-center text-right md:pl-10 text-gray-800">
                                            <button
    title="Start searching"
    type="button"
    class="flex md:hidden bg-gray-100 hover:bg-blue-100 justify-center items-center shadow rounded focus:outline-none h-10 px-3"
    onclick="searchInput.toggle()"
>
    <img src="/assets/img/magnifying-glass.svg" alt="search icon" class="h-4 w-4 max-w-none">
</button>

<div id="js-search-input" class="docsearch-input__wrapper hidden md:block">
    <label for="search" class="hidden">Search</label>

    <input
        id="docsearch-input"
        class="docsearch-input block h-10 transition-fast w-full lg:w-1/2 xl:w-1/3 outline-none rounded text-gray-700 focus:border-blue-400 ml-auto px-4 pb-0 shadow"
        name="docsearch"
        type="text"
        placeholder="Search"
    >

    <button
        class="md:hidden absolute right-0 mr-8 h-full font-light text-3xl text-blue-500 hover:text-blue-600 focus:outline-none -mt-px"
        onclick="searchInput.toggle()"
    >&times;</button>
</div>

                    
                                            <a href="/docs/" class="ml-6 hidden md:inline whitespace-no-wrap text-gray-800 hover:text-purple-700" title="LdapRecord Documentation Link">
                            Core Docs
                        </a>

                        <a href="https://github.com/DirectoryTree/LdapRecord-Laravel" class="hidden text-gray-800 hover:text-purple-700 sm:inline">
                            <svg class="fill-current w-8 ml-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>GitHub</title><path d="M10 0a10 10 0 0 0-3.16 19.49c.5.1.68-.22.68-.48l-.01-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.16-1.11-1.47-1.11-1.47-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.9 1.52 2.34 1.08 2.91.83.1-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.94 0-1.1.39-1.99 1.03-2.69a3.6 3.6 0 0 1 .1-2.64s.84-.27 2.75 1.02a9.58 9.58 0 0 1 5 0c1.91-1.3 2.75-1.02 2.75-1.02.55 1.37.2 2.4.1 2.64.64.7 1.03 1.6 1.03 2.69 0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85l-.01 2.75c0 .26.18.58.69.48A10 10 0 0 0 10 0"></path></svg>
                        </a>
                                    </div>
            </div>

                <button class="flex justify-center items-center bg-purple-500 shadow h-10 mr-4 px-5 rounded lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

        </nav>

        <main role="main" class="w-full">
            <div class="relative h-full max-w-screen-xl mx-auto">
                                    <svg style="left:100%;" width="404" height="784" fill="none" viewBox="0 0 404 784" class="absolute hidden sm:block transform translate-y-64 -translate-x-64">
                        <defs>
                            <pattern id="f210dbf6-a58d-4871-961e-36d5016a0f49" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                                <rect x="0" y="0" width="4" height="4" fill="currentColor" class="text-gray-200"></rect>
                            </pattern>
                        </defs>
                        <rect width="404" height="784" fill="url(#f210dbf6-a58d-4871-961e-36d5016a0f49)"></rect>
                    </svg>
                            </div>

                <section class="container relative max-w-8xl mx-auto px-6 md:px-8 py-4">
        <div class="flex flex-col lg:flex-row">
            <nav id="js-nav-menu" class="nav-menu hidden lg:block">
                    <ul class="list-none my-0 ">
            <li class="pl-4">
            
        <p class="nav-menu__item text-gray-500 font-extrabold text-xs tracking-widest uppercase italic pt-2">Introduction</p>
    
            
        <ul class="list-none my-0 border-l-4 border-purple-200">
            <li class="pl-4">
            
        <a href="/docs/laravel/quickstart"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Quickstart
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Overview
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/installation"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Installation
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/usage"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Usage
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <p class="nav-menu__item text-gray-500 font-extrabold text-xs tracking-widest uppercase italic pt-2">Authentication</p>
    
            
        <ul class="list-none my-0 border-l-4 border-purple-200">
            <li class="pl-4">
            
        <a href="/docs/laravel/auth/quickstart"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Quickstart
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/auth"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Overview
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/auth/installation"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Installation
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/auth/configuration"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Configuration
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/auth/setup"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Setup
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/auth/multi-domain"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Multi-Domain
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/auth/importing"
            class="lvl1  active font-semibold text-purple-600 nav-menu__item hover:text-purple-500"
        >
            Importing Users
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/auth/testing"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Testing
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <p class="nav-menu__item text-gray-500 font-extrabold text-xs tracking-widest uppercase italic pt-2">Other Features</p>
    
            
        <ul class="list-none my-0 border-l-4 border-purple-200">
            <li class="pl-4">
            
        <a href="/docs/laravel/importing"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Importing Objects
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/events"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Events
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/testing"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Testing
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/debugging"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Debugging
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <p class="nav-menu__item text-gray-500 font-extrabold text-xs tracking-widest uppercase italic pt-2">Extra</p>
    
            
        <ul class="list-none my-0 border-l-4 border-purple-200">
            <li class="pl-4">
            
        <a href="/docs/laravel/versioning"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Versioning
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/laravel/license"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            License
        </a>
    
    </li>
    </ul>
    </li>
    </ul>

    <div class="block sm:hidden">
        <hr class="my-4"/>

        <ul class="list-none my-0">
            <li class="pl-4">
                <a href="/docs/"
                   class="nav-menu__item hover:text-blue-500"
                >
                    Core Documentation
                </a>
            </li>

            <li class="pl-4">
                <a href="https://github.com/DirectoryTree/LdapRecord-Laravel"
                   class="nav-menu__item hover:text-blue-500"
                >
                    Source Code
                </a>
            </li>
        </ul>
    </div>
            </nav>

            <div class="DocSearch-content content w-full lg:w-3/5 break-words pb-16 lg:pl-4" v-pre>
                <h1>Importing LDAP Users</h1>

<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#attribute-synchronization">Attribute Synchronization</a></li>
<li><a href="#running-the-command">Running the command</a></li>
<li><a href="#scheduling-the-command">Scheduling the command</a></li>
<li><a href="#programmatically-executing">Programmatically Executing</a></li>
<li><a href="#single-users">Single Users</a></li>
<li><a href="#command-options">Command Options</a>

<ul>
<li><a href="#option-filter">Filter</a></li>
<li><a href="#option-delete">Delete</a></li>
<li><a href="#option-delete-missing">Delete Missing</a></li>
<li><a href="#option-restore">Restore</a></li>
<li><a href="#option-no-logging">No Logging</a></li>
<li><a href="#option-no-interaction">No Interaction</a></li>
</ul></li>
<li><a href="#tips">Additional Tips</a></li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>LdapRecord-Laravel allows you to import users from your LDAP directories into your local database.
This is done by executing the <code>php artisan ldap:import</code> command and is only available to LDAP
authentication providers you configure with <a href="/docs/laravel/auth/configuration/#database">database synchronization</a>.</p>

<p>As it is with signing users into your application, the Eloquent database model you specify in your
<code>config/auth.php</code> file is used for the creation and retrieval of users in your database.</p>

<h2 id="attribute-synchronization">Attribute Synchronization</h2>

<p>The <code>sync_attributes</code> you define inside of your <code>config/auth.php</code> file for your provider are used
for importing and synchronizing users. Be sure to look at the <a href="/docs/laravel/auth/configuration/#database">documentation</a>
to get a further understanding on what is possible with this option.</p>

<h2 id="password-synchronization">Password Synchronization</h2>

<p>The <code>sync_passwords</code> option you define inside of your <code>config/auth.php</code> file is used when importing 
and synchronizing users. However, there are some main takeaways you must be aware of:</p>

<ul>
<li><strong>Passwords cannot be retrieved from users who are being imported from your LDAP server.</strong>
<br/>This would be a major security risk if this were possible. If a password is already
set for the user being imported, it will be left untouched. This is to retain a
possible synchronized password that was set upon login.</li>
<li><strong>Passwords will always be set to a hashed 16 character string if not already present.</strong>
<br/>If the user being imported does not have a password, their password will be set to a
hashed 16 character random string using <code>Str::random</code>.</li>
<li><strong>Passwords will not be set</strong> if you have defined <code>false</code> for <code>password_column</code>.</li>
</ul>

<h2 id="running-the-command">Running the command</h2>

<p>To run the command you must insert the <code>provider</code> name that you have setup for LDAP database synchronization
inside of your <code>config/auth.php</code> file. Let's walk through an example.</p>

<p>In our application we have a configured authentication provider named <code>ldap</code>:</p>

<pre><code class="language-php">'providers' =&gt; [
    // ...

    'ldap' =&gt; [
        // ...
        'database' =&gt; [
            // ...
        ],
    ],
],
</code></pre>

<p>We will then insert the providers name into our import command and execute it:</p>

<pre><code class="language-bash">php artisan ldap:import ldap
</code></pre>

<p>You will then be asked after a successful search in your directory:</p>

<pre><code class="language-text">Found 2 user(s).

Would you like to display the user(s) to be imported / synchronized? (yes/no) [no]:
&gt; y
</code></pre>

<p>A table will then be shown so you can confirm the import of the located users:</p>

<pre><code class="language-text">+-------------+-------------------+---------------------+
| Name        | Account Name      | UPN                 |
+-------------+-------------------+---------------------+
| John Doe    | johndoe           | johndoe@local.com   |
| Jane Doe    | janedoe           | janedoe@local.com   |
+-------------+-------------------+---------------------+
</code></pre>

<p>Then, you will be asked to import the users shown and the import will begin:</p>

<pre><code class="language-text"> Would you like these users to be imported / synchronized? (yes/no) [no]:
 &gt; y

  2/2 [============================] 100%

Successfully imported / synchronized 2 user(s).
</code></pre>

<h2 id="scheduling-the-command">Scheduling the command</h2>

<p>To run the import as a scheduled job, place the following in your <code>app/Console/Kernel.php</code> in the command scheduler:</p>

<pre><code class="language-php">protected function schedule(Schedule $schedule)
{
    // Import LDAP users hourly.
    $schedule-&gt;command('ldap:import ldap', [
        '--no-interaction',
        '--restore',
        '--delete',
        '--filter' =&gt; '(objectclass=user)',
    ])-&gt;hourly();
}
</code></pre>

<p>The above scheduled import command will:</p>

<ul>
<li>Run without interaction and import new users as well as synchronize already imported users</li>
<li>Restore user models who have been re-activated in your LDAP directory (if you're using <a href="https://laravel.com/docs/eloquent#soft-deleting">Eloquent Soft Deletes</a>)</li>
<li>Soft-Delete user models who have been deactived in your LDAP directory (if you're using <a href="https://laravel.com/docs/eloquent#soft-deleting">Eloquent Soft Deletes</a>)</li>
<li>Only import users that have an <code>objectclass</code> equal to user</li>
</ul>

<blockquote>
  <p>It's recommended to use <a href="/docs/models#query-scopes">model query scopes</a> instead of the <code>--filter</code>
  option on your configured authentication LdapRecord model so LDAP users signing into your
  application are applied the same search filter.</p>
</blockquote>

<h2 id="programmatically-executing">Programmatically Executing</h2>

<p>You can call the <code>ldap:import</code> command using Laravel's <a href="https://laravel.com/docs/artisan#programmatically-executing-commands">Artisan</a>
facade to programmatically execute the import inside of your application wherever you'd like:</p>

<pre><code class="language-php">Artisan::call('ldap:import', ['provider' =&gt; 'ldap', '--no-interaction']);
</code></pre>

<p>To use more options, include them as array values:</p>

<pre><code class="language-php">Artisan::call('ldap:import', [
    'provider' =&gt; 'ldap',
    '--no-interaction',
    '--restore' =&gt; true,
    '--delete' =&gt; true,
    '--delete-missing' =&gt; true,
    '--filter' =&gt; '(cn=John Doe)',
]);
</code></pre>

<h2 id="single-users">Single Users</h2>

<p>To import or synchronize a single user, insert one of their attributes and LdapRecord will
try to locate the user for you using Ambiguous Name Resolution. If your LDAP server
does not support ANR, an equivalent query will be created automatically.</p>

<pre><code class="language-text">php artisan ldap:import ldap jdoe@email.com

Found user 'John Doe'.

Would you like to display the user(s) to be imported / synchronized? (yes/no) [no]:
&gt; y
</code></pre>

<h2 id="command-options">Command Options</h2>

<h3 id="option-filter">Filter</h3>

<p>The <code>--filter</code> (or <code>-f</code>) option allows you to enter in a raw filter to further narrow down the users who are imported:</p>

<blockquote>
  <p><strong>Important</strong>: If your filter contains commas, or other types of "escape" level LDAP search filter characters,
  you <strong>must</strong> escape the value with a backslash (<code>\</code>) before passing it into the search string. More on this below.</p>
</blockquote>

<pre><code class="language-text">php artisan ldap:import ldap --filter "(cn=John Doe)"
</code></pre>

<h4>Escaping</h4>

<p>In some cases, you may need to pass commas or other escape level characters into the search filter.</p>

<p>To do so, add a backslash (<code>\</code>) <strong>before</strong> the character to escape it properly:</p>

<pre><code class="language-text">php artisan ldap:import ldap --filter "(cn=Doe\, John)"
</code></pre>

<p>If this is not done, you will receive a <code>Bad search filter</code> exception during import.</p>

<h3 id="option-delete">Delete</h3>

<blockquote>
  <p>This option is only available on Active Directory models.</p>
</blockquote>

<p>The <code>--delete</code> (or <code>-d</code>) option allows you to soft-delete deactivated LDAP users. No users
will be deleted if your <code>User</code> Eloquent model does not have soft-deletes enabled.</p>

<pre><code class="language-text">php artisan ldap:import ldap --delete
</code></pre>

<h3 id="option-delete-missing">Delete Missing</h3>

<blockquote>
  <p>This option is available for <strong>all LDAP directories</strong>.</p>
</blockquote>

<p>The <code>--delete-missing</code> option allows you to soft-delete all LDAP users that
were missing from the import. This is useful when a user is deleted in your
LDAP server, and therefore should be soft-deleted inside of your application.</p>

<p>This option was designed to have the utmost safety of user data in mind.
Here are some paramount things to understand with this option:</p>

<p><strong>No users will be deleted if soft-deletes are not enabled on your <code>User</code> eloquent model.</strong></p>

<p>Deletion will not occur. You must setup <a href="https://laravel.com/docs/eloquent#soft-deleting">Soft Deletes</a>
on your <code>User</code> eloquent model.</p>

<p><strong>If no users were successfully imported, no users will be soft-deleted.</strong></p>

<p>If an executed import imports zero (0) users, no users will be soft-deleted.</p>

<p><strong>Only users that belong to the domain you are importing will be soft-deleted.</strong></p>

<p>This means, all other users will be left untouched, such as local database
users  that were not imported from an LDAP server, as well as users
that were imported from another domain.</p>

<p><strong>Soft-deleted users are reported in the log.</strong></p>

<p>When users are soft-deleted, a log entry will be created for each one:</p>

<pre><code class="language-text">User with [id = 2] has been soft-deleted due to being missing from LDAP import.
User with [id = 5] has been soft-deleted due to being missing from LDAP import.
</code></pre>

<h4>The DeletedMissing Event</h4>

<p>A <code>DeletedMissing</code> event is fired in the event of any users being soft-deleted.</p>

<p>You may listen for this event and access the IDs of the deleted users, as well as the Eloquent model
that was used to perform the deletion, and the LdapRecord model that was used to perform the import.</p>

<p>Here is an example listener that accesses this event and its properties:</p>

<pre><code class="language-php">// app/Listeners/UsersDeletedFromImport.php

namespace App\Listeners;

use LdapRecord\Laravel\Events\DeletedMissing;

class UsersDeletedFromImport
{
    public function handle(DeletedMissing $event)
    {
        // \Illuminate\Support\Collection
        $event-&gt;ids;

        // \LdapRecord\Models\ActiveDirectory\User
        $event-&gt;ldap;

        // \App\User
        $event-&gt;eloquent;
    }
}
</code></pre>

<h3 id="option-restore">Restore</h3>

<blockquote>
  <p>This option is only available on Active Directory models.</p>
</blockquote>

<p>The <code>--restore</code> (or <code>-r</code>) option allows you to restore soft-deleted re-activated LDAP users.</p>

<pre><code class="language-text">php artisan ldap:import ldap --restore
</code></pre>

<blockquote>
  <p>Usually the <code>--restore</code> and <code>--delete</code> options are used in tandem to allow
  full synchronization of user disablements and restoration.</p>
</blockquote>

<h3 id="option-no-logging">No Logging</h3>

<p>The <code>--no-log</code> option allows you to disable logging during the command.</p>

<pre><code class="language-text">php artisan ldap:import ldap --no-log
</code></pre>

<p>By default this is enabled, regardless if <code>logging</code> is disabled in your <code>config/ldap.php</code> file.</p>

<h3 id="option-no-interaction">No Interaction</h3>

<p>To run the import command via a schedule, use the <code>--no-interaction</code> flag:</p>

<pre><code class="language-text">php artisan ldap:import ldap --no-interaction
</code></pre>

<p>Users will be imported automatically with no prompts.</p>

<p>You can also call the command from the Laravel Scheduler, or other commands:</p>

<pre><code class="language-php">// Importing one user
$schedule-&gt;command('ldap:import ldap sbauman', ['--no-interaction'])
            -&gt;everyMinute();

// Importing all users
$schedule-&gt;command('ldap:import ldap', ['--no-interaction'])
            -&gt;everyMinute();

// Importing users with a filter
$dn = 'CN=Accounting,OU=SecurityGroups,DC=local,DC=com';

$filter = sprintf('(memberof:1.2.840.113556.1.4.1941:=%s)', $dn);

$schedule-&gt;command('ldap:import ldap', ['--no-interaction', '--filter' =&gt; $filter])
    -&gt;everyMinute();
</code></pre>

<h3 id="tips">Additional Tips</h3>

<ul>
<li>Users who already exist inside your database will be updated with your configured providers <code>sync_attributes</code></li>
<li>Users are never deleted from the import command, you will need to delete users regularly through your Eloquent model</li>
<li>If you have a password mutator (setter) on your <code>User</code> Eloquent model, it will not override it.
This allows you to hash the random 16 character passwords any way you prefer.</li>
<li>Successfully imported (new) users are reported in your log files:</li>
</ul>

<pre><code class="language-text">[2020-01-29 14:51:51] local.INFO: Imported user johndoe
</code></pre>

<ul>
<li>Unsuccessful imported users are also reported in your log files, with the message of the exception:</li>
</ul>

<pre><code class="language-text">[2020-01-29 14:51:51] local.ERROR: Unable to import user janedoe. SQLSTATE[23000]: Integrity constraint violation: 1048
</code></pre>

                <div class="mt-12 pt-8 pb-6 border-t-2 border-purple-200">
                        <div class="flex flex-col-reverse md:flex-row justify-between items-center">
    <div class="flex flex-col items-center md:items-start">
                    <span class="font-black text-gray-500 text-sm tracking-wider uppercase pb-1">← Previous Topic</span>
            <h4 class="font-bold underline m-0 text-blue-700">
                <a href="/docs/laravel/auth/multi-domain">Multi-Domain</a>
            </h4>
            </div>
    <div class="mb-8 md:mb-0 flex flex-col items-center md:items-end">
                    <span class="font-black text-gray-500 text-sm tracking-wider uppercase pb-1">Next Topic →</span>
            <h4 class="font-bold underline m-0 text-blue-700">
                <a href="/docs/laravel/auth/testing">Testing</a>
            </h4>
            </div>
</div>
                </div>

                <div class="mt-8 text-center hidden md:block">
                    <a class="font-black text-gray-500 text-sm tracking-wider uppercase" href="https://github.com/DirectoryTree/LdapRecord.com/blob/master/source//docs/laravel/auth/importing.md" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="w-6 h-6 inline-block fill-current mr-1">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
                        </svg>

                        Edit this Page
                    </a>
                </div>
            </div>
        </div>
    </section>
        </main>

        
        <script src="/assets/build/js/main.js?id=f4770a7909c663b5fd4a"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>
            <script type="text/javascript">
            docsearch({
                apiKey: 'bc526397341486f980ca0b7ee7a0fa61',
                indexName: 'ldaprecord',
                inputSelector: '#docsearch-input',
                debug: false // Set debug to true if you want to inspect the dropdown
            });

            const searchInput = {
                toggle() {
                    const menu = document.getElementById('js-search-input');
                    menu.classList.toggle('hidden');
                    menu.classList.toggle('md:block');
                    document.getElementById('docsearch-input').focus();
                },
            }
        </script>
        </body>
</html>
