<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="A list of all available LdapRecord model methods.">

        <meta property="og:site_name" content="LdapRecord"/>
        <meta property="og:title" content="Model API | LdapRecord"/>
        <meta property="og:description" content="A list of all available LdapRecord model methods."/>
        <meta property="og:url" content="https://ldaprecord.com/docs/model-api"/>
        <meta property="og:image" content="/assets/img/logo.png"/>
        <meta property="og:type" content="website"/>

        <meta name="twitter:image:alt" content="LdapRecord">
        <meta name="twitter:card" content="summary_large_image">

                    <meta name="generator" content="tighten_jigsaw_doc">
        
        <title>LdapRecord | Model API</title>

        <link rel="home" href="https://ldaprecord.com">
        <link rel="icon" href="/favicon.ico">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">

        
        <link rel="stylesheet" href="/assets/build/css/main.css?id=a63e088ad20b43b2400c">

                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
            </head>
    <body class="antialiased font-sans">
        <nav class="flex items-center h-24 py-12 z-20 border-gradient-l-purple-light border-b-8 mb-2" role="banner">
            <div class="container flex items-center max-w-8xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="/" title="LdapRecord home" class="inline-flex items-center">
                        <img class="h-20 md:h-24 mr-3" src="/assets/img/logo.svg" alt="LdapRecord logo" />
                    </a>
                </div>

                <div class="flex flex-1 justify-end items-center text-right md:pl-10 text-gray-800">
                                            <button
    title="Start searching"
    type="button"
    class="flex md:hidden bg-gray-100 hover:bg-blue-100 justify-center items-center shadow rounded focus:outline-none h-10 px-3"
    onclick="searchInput.toggle()"
>
    <img src="/assets/img/magnifying-glass.svg" alt="search icon" class="h-4 w-4 max-w-none">
</button>

<div id="js-search-input" class="docsearch-input__wrapper hidden md:block">
    <label for="search" class="hidden">Search</label>

    <input
        id="docsearch-input"
        class="docsearch-input block h-10 transition-fast w-full lg:w-1/2 xl:w-1/3 outline-none rounded text-gray-700 focus:border-blue-400 ml-auto px-4 pb-0 shadow"
        name="docsearch"
        type="text"
        placeholder="Search"
    >

    <button
        class="md:hidden absolute right-0 mr-8 h-full font-light text-3xl text-blue-500 hover:text-blue-600 focus:outline-none -mt-px"
        onclick="searchInput.toggle()"
    >&times;</button>
</div>

                    
                                            
                        <a href="/docs/laravel" class="ml-6 hidden md:inline whitespace-no-wrap text-gray-800 hover:text-purple-700" title="LdapRecord-Laravel Documentation Link">
                            Laravel Docs
                        </a>

                        <a href="https://github.com/DirectoryTree/LdapRecord" class="hidden sm:inline text-gray-800 hover:text-purple-700">
                            <svg class="fill-current w-8 ml-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>GitHub</title><path d="M10 0a10 10 0 0 0-3.16 19.49c.5.1.68-.22.68-.48l-.01-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.16-1.11-1.47-1.11-1.47-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.9 1.52 2.34 1.08 2.91.83.1-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.94 0-1.1.39-1.99 1.03-2.69a3.6 3.6 0 0 1 .1-2.64s.84-.27 2.75 1.02a9.58 9.58 0 0 1 5 0c1.91-1.3 2.75-1.02 2.75-1.02.55 1.37.2 2.4.1 2.64.64.7 1.03 1.6 1.03 2.69 0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85l-.01 2.75c0 .26.18.58.69.48A10 10 0 0 0 10 0"></path></svg>
                        </a>
                                    </div>
            </div>

                <button class="flex justify-center items-center bg-purple-500 shadow h-10 mr-4 px-5 rounded lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

        </nav>

        <main role="main" class="w-full">
            <div class="relative h-full max-w-screen-xl mx-auto">
                                    <svg style="left:100%;" width="404" height="784" fill="none" viewBox="0 0 404 784" class="absolute hidden sm:block transform translate-y-64 -translate-x-64">
                        <defs>
                            <pattern id="f210dbf6-a58d-4871-961e-36d5016a0f49" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                                <rect x="0" y="0" width="4" height="4" fill="currentColor" class="text-gray-200"></rect>
                            </pattern>
                        </defs>
                        <rect width="404" height="784" fill="url(#f210dbf6-a58d-4871-961e-36d5016a0f49)"></rect>
                    </svg>
                            </div>

                <section class="container relative max-w-8xl mx-auto px-6 md:px-8 py-4">
        <div class="flex flex-col lg:flex-row">
            <nav id="js-nav-menu" class="nav-menu hidden lg:block">
                    <ul class="list-none my-0 ">
            <li class="pl-4">
            
        <p class="nav-menu__item text-gray-500 font-extrabold text-xs tracking-widest uppercase italic pt-2">Introduction</p>
    
            
        <ul class="list-none my-0 border-l-4 border-purple-200">
            <li class="pl-4">
            
        <a href="/docs/quickstart"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Quickstart
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Overview
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/installation"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Installation
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/configuration"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Configuration
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/connections"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Connections
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/searching"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Searching 
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <p class="nav-menu__item text-gray-500 font-extrabold text-xs tracking-widest uppercase italic pt-2">Models</p>
    
            
        <ul class="list-none my-0 border-l-4 border-purple-200">
            <li class="pl-4">
            
        <a href="/docs/models"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Getting Started
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/model-relationships"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Relationships
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/model-mutators"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Accessors &amp; Mutators
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/model-api"
            class="lvl1  active font-semibold text-purple-600 nav-menu__item hover:text-purple-500"
        >
            API (Available Methods)
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <p class="nav-menu__item text-gray-500 font-extrabold text-xs tracking-widest uppercase italic pt-2">Active Directory</p>
    
            
        <ul class="list-none my-0 border-l-4 border-purple-200">
            <li class="pl-4">
            
        <a href="/docs/active-directory/users"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Users
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/active-directory/groups"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Groups
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <p class="nav-menu__item text-gray-500 font-extrabold text-xs tracking-widest uppercase italic pt-2">Other Features</p>
    
            
        <ul class="list-none my-0 border-l-4 border-purple-200">
            <li class="pl-4">
            
        <a href="/docs/authentication"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Authentication
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/common-queries"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Common Queries
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/caching"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Caching
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/events"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Events
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/logging"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Logging
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/testing"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Testing
        </a>
    
    </li>
    </ul>
    </li>
            <li class="pl-4">
            
        <p class="nav-menu__item text-gray-500 font-extrabold text-xs tracking-widest uppercase italic pt-2">Extra</p>
    
            
        <ul class="list-none my-0 border-l-4 border-purple-200">
            <li class="pl-4">
            
        <a href="/docs/versioning"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Versioning
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/credits"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            Credits
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/license"
            class="lvl1  text-gray-700 nav-menu__item hover:text-purple-500"
        >
            License
        </a>
    
    </li>
    </ul>
    </li>
    </ul>

    <div class="block md:hidden">
        <hr class="my-4"/>

        <ul class="list-none my-0">
            <li class="pl-4">
                <a href="/docs/laravel/"
                   class="nav-menu__item hover:text-blue-500"
                >
                    Laravel Documentation
                </a>
            </li>

            <li class="pl-4">
                <a href="https://github.com/DirectoryTree/LdapRecord"
                   class="nav-menu__item hover:text-blue-500"
                >
                    Source Code
                </a>
            </li>
        </ul>
    </div>
            </nav>

            <div class="DocSearch-content content w-full lg:w-3/5 break-words pb-16 lg:pl-4" v-pre>
                <h1>Available Model Methods (API)</h1>

<div class="api-method-list">
<p>
<a href="#addAttributeValue">addAttributeValue</a>
<a href="#addHidden">addHidden</a>
<a href="#addModification">addModification</a>
<a href="#addVisible">addVisible</a>
<a href="#ancestors">ancestors</a>
<a href="#asDateTime">asDateTime</a>
<a href="#attributesToArray">attributesToArray</a>
<a href="#convert">convert</a>
<a href="#countAttributes">countAttributes</a>
<a href="#createAttribute">createAttribute</a>
<a href="#delete">delete</a>
<a href="#deleteAttribute">deleteAttribute</a>
<a href="#descendants">descendants</a>
<a href="#escape">escape</a>
<a href="#fill">fill</a>
<a href="#fresh">fresh</a>
<a href="#fromDateTime">fromDateTime</a>
<a href="#getAnrAttributes">getAnrAttributes</a>
<a href="#getAttribute">getAttribute</a>
<a href="#getAttributeValue">getAttributeValue</a>
<a href="#getAttributes">getAttributes</a>
<a href="#getConnection">getConnection</a>
<a href="#getConnectionName">getConnectionName</a>
<a href="#getConvertedGuid">getConvertedGuid</a>
<a href="#getCreatableDn">getCreatableDn</a>
<a href="#getCreatableRdn">getCreatableRdn</a>
<a href="#getDateFormat">getDateFormat</a>
<a href="#getDates">getDates</a>
<a href="#getDirty">getDirty</a>
<a href="#getDn">getDn</a>
<a href="#getFirstAttribute">getFirstAttribute</a>
<a href="#getGlobalScopes">getGlobalScopes</a>
<a href="#getGuidKey">getGuidKey</a>
<a href="#getHidden">getHidden</a>
<a href="#getModifications">getModifications</a>
<a href="#getName">getName</a>
<a href="#getObjectGuid">getObjectGuid</a>
<a href="#getOriginal">getOriginal</a>
<a href="#getParentDn">getParentDn</a>
<a href="#getRdn">getRdn</a>
<a href="#getVisible">getVisible</a>
<a href="#hasAttribute">hasAttribute</a>
<a href="#hasGetMutator">hasGetMutator</a>
<a href="#hasSetMutator">hasSetMutator</a>
<a href="#inside">inside</a>
<a href="#is">is</a>
<a href="#isAncestorOf">isAncestorOf</a>
<a href="#isChildOf">isChildOf</a>
<a href="#isDateAttribute">isDateAttribute</a>
<a href="#isDescendantOf">isDescendantOf</a>
<a href="#isDirty">isDirty</a>
<a href="#isParentOf">isParentOf</a>
<a href="#makeHidden">makeHidden</a>
<a href="#makeVisible">makeVisible</a>
<a href="#move">move</a>
<a href="#newBatchModification">newBatchModification</a>
<a href="#newCollection">newCollection</a>
<a href="#newInstance">newInstance</a>
<a href="#newQuery">newQuery</a>
<a href="#newQueryWithoutScopes">newQueryWithoutScopes</a>
<a href="#rename">rename</a>
<a href="#save">save</a>
<a href="#setAttribute">setAttribute</a>
<a href="#setConnection">setConnection</a>
<a href="#setDateFormat">setDateFormat</a>
<a href="#setDn">setDn</a>
<a href="#setFirstAttribute">setFirstAttribute</a>
<a href="#setHidden">setHidden</a>
<a href="#setModifications">setModifications</a>
<a href="#setVisible">setVisible</a>
<a href="#siblings">siblings</a>
<a href="#synchronize">synchronize</a>
<a href="#update">update</a>
<a href="#updateAttribute">updateAttribute</a>
</p>
</div>

<h2>Method Listing</h2>

<h4 id="addAttributeValue"><code>addAttributeValue</code></h4>

<p>Add a value into an array of attribute values:</p>

<pre><code class="language-php">$model-&gt;proxyaddresses = ['SMTP:sbauman@microsoft.com'];

$model-&gt;addAttributeValue('proxyaddresses', 'smtp:sbauman@local.com');

// Displays:
// [
//     'SMTP:sbauman@microsoft.com',
//     'smtp:sbauman@local.com'
// ]
var_dump($model-&gt;proxyaddresses);
</code></pre>

<h4 id="addHidden"><code>addHidden</code></h4>

<p>Add an attribute to hide when encoding a model using <code>json_encode</code>:</p>

<pre><code class="language-php">$model-&gt;addHidden('userpassword');

$model-&gt;addHidden(['userpassword', 'mail']);

// 'userpassword' and 'mail' will be omitted:
$attributes = json_encode($model);
</code></pre>

<h4 id="addModification"><code>addModification</code></h4>

<p>Add a batch modification to the model to be executed upon <code>save()</code>:</p>

<pre><code class="language-php">// Using an array...
$modification = [
    'attrib'  =&gt; 'telephoneNumber',
    'modtype' =&gt; LDAP_MODIFY_BATCH_ADD,
    'values'  =&gt; ['+1 555 555 1717'],
];

$model-&gt;addModification($modification);

// Using a BatchModification...
$mod = new \LdapRecord\Models\BatchModification(
    $attrib = 'telephoneNumber',
    $modType = LDAP_MODIFY_BATCH_ADD,
    $values = ['+1 555 555 1717']
);

$model-&gt;addModification($mod);

$model-&gt;save();
</code></pre>

<h4 id="addVisible"><code>addVisible</code></h4>

<p>Add an attribute to include that is being hidden when encoding a model using <code>json_encode</code>:</p>

<pre><code class="language-php">$model-&gt;addVisible('userpassword');

$model-&gt;addVisible(['userpassword', 'mail']);
</code></pre>

<h4 id="ancestors"><code>ancestors</code></h4>

<p>Begin querying the direct ancestors of the model:</p>

<pre><code class="language-php">$ancestors = $model-&gt;ancestors()-&gt;get();
</code></pre>

<h4 id="asDateTime"><code>asDateTime</code></h4>

<p>Convert an LDAP timestamp to a <code>Carbon\Carbon</code> instance:</p>

<pre><code class="language-php">$carbon = $model-&gt;asDateTime('ldap', '20200508184557Z');

$carbon = $model-&gt;asDateTime('windows', '20200508184533.0Z');

$carbon = $model-&gt;asDateTime('windows-int', 132334371140000000);
</code></pre>

<h4 id="attributesToArray"><code>attributesToArray</code></h4>

<p>Convert all the models attributes to their JSON encodable value:</p>

<pre><code class="language-php">$attributes = $model-&gt;attributesToArray();
</code></pre>

<blockquote>
  <p>LDAP date attributes specified via the <code>$dates</code> model property will be converted in the returned array.</p>
</blockquote>

<h4 id="convert"><code>convert</code></h4>

<p>Convert a model into another by copying its attributes, connection and distinguished name:</p>

<blockquote>
  <p>This will also set <code>$model-&gt;exists</code> property to <code>true</code> if the <strong>model being converted</strong> exists.</p>
</blockquote>

<pre><code class="language-php">$into = new \LdapRecord\Models\ActiveDirectory\User();

// Returns instance of \LdapRecord\Models\ActiveDirectory\User
$user = $model-&gt;convert($into);
</code></pre>

<h4 id="countAttributes"><code>countAttributes</code></h4>

<p>Get the total number of attributes on a model:</p>

<blockquote>
  <p>This does not count attribute values.</p>
</blockquote>

<pre><code class="language-php">$model-&gt;fill([
    'cn' =&gt; 'Steve Bauman',
    'sn' =&gt; 'Bauman',
]);

// Returns '2'
$model-&gt;countAttributes();
</code></pre>

<h4 id="createAttribute"><code>createAttribute</code></h4>

<p>Immediately inserts a new attribute value on the model.</p>

<p>Performs an <code>ldap_mod_add</code> under the hood.</p>

<blockquote>
  <p>This does not create attributes that do not exist on your LDAP schema for the object.</p>
</blockquote>

<pre><code class="language-php">$model-&gt;createAttribute('telephonenumber', '+1 555 555 1717');
</code></pre>

<h4 id="delete"><code>delete</code></h4>

<p>Immediately delete an existing model instance:</p>

<pre><code class="language-php">$model-&gt;delete();

// Returns false.
$model-&gt;exists;
</code></pre>

<p>To delete nested objects contained in the model recursively, pass in <code>true</code>:</p>

<pre><code class="language-php">$model-&gt;delete($recursive = true);
</code></pre>

<h4 id="deleteAttribute"><code>deleteAttribute</code></h4>

<p>Immediately delete an attribute on a model.</p>

<p>Performs an <code>ldap_mod_del</code> under the hood.</p>

<pre><code class="language-php">$model-&gt;deleteAttribute('telephonenumber');

$model-&gt;telephonenumber; // Returns null
</code></pre>

<h4 id="descendants"><code>descendants</code></h4>

<p>Begin querying the direct descendants of the model:</p>

<pre><code class="language-php">$descendants = $model-&gt;descendants()-&gt;get();
</code></pre>

<h4 id="escape"><code>escape</code></h4>

<p>Prepare a value to be escaped:</p>

<pre><code class="language-php">// Returns \LdapRecord\Models\Attributes\EscapedValue;
$escapedValue = $model-&gt;escape($value, $ignore = '', $flags = 0);

// Cast to string for immediate return of escaped value:
$escapedValue = (string) $model-&gt;escape($value, $ignore = '', $flags = 0);
</code></pre>

<h4 id="fill"><code>fill</code></h4>

<p>Fill a model with attributes and values:</p>

<pre><code class="language-php">$model-&gt;fill([
    'cn' =&gt; 'Steve Bauman',
    'proxyAddresses' =&gt; ['foo', 'bar'],
]);

$model-&gt;save();
</code></pre>

<h4 id="fresh"><code>fresh</code></h4>

<p>Get a fresh <strong>new</strong> instance of the existing model.</p>

<p>The model will be re-retrieved from the LDAP directory. The existing model will not be affected:</p>

<pre><code class="language-php">$fresh = $model-&gt;fresh();
</code></pre>

<h4 id="fromDateTime"><code>fromDateTime</code></h4>

<p>Convert a <code>DateTime</code>, <code>Carbon</code> or <code>string</code> to the specified LDAP timestamp type:</p>

<pre><code class="language-php">$date = new \DateTime('now');

$ldapTimestamp = $model-&gt;fromDateTime('ldap', $date);

$windowsTimestamp = $model-&gt;fromDateTime('windows', $date);

$windowsIntTimestamp = $model-&gt;fromDateTime('windows-int', $date);
</code></pre>

<h4 id="getAnrAttributes"><code>getAnrAttributes</code></h4>

<p>Get an array of ANR attributes defined on the model:</p>

<pre><code class="language-php">$attributes = $model-&gt;getAnrAttributes();

// Displays: [
//    'cn',
//    'sn',
//    'uid',
//    'name',
//    'mail',
//    'givenname',
//    'displayname'
// ]
var_dump($attributes);
</code></pre>

<h4 id="getAttribute"><code>getAttribute</code></h4>

<p>Get the value of the specified attribute.</p>

<p>This will return an <code>array</code> if the attribute exists and <code>null</code> if non-existent:</p>

<blockquote>
  <p>If a mutator exists for the attribute (such as a date, or custom attribute
  <a href="//docs/model-mutators/#defining-a-mutator">mutator method</a>), it's value will be returned instead.</p>
</blockquote>

<pre><code class="language-php">// Returns array:
$values = $model-&gt;getAttribute('cn');

// Returns first value:
$value = $model-&gt;getAttribute('cn')[0];

// Returns null:
$null = $model-&gt;getAttribute('non-existent');
</code></pre>

<h4 id="getAttributeValue"><code>getAttributeValue</code></h4>

<p>Performs the same as above.</p>

<h4 id="getAttributes"><code>getAttributes</code></h4>

<p>Get all the models raw attributes:</p>

<blockquote>
  <p>Mutator attribute values will not be included in this array.</p>
</blockquote>

<pre><code class="language-php">$attributes = $model-&gt;getAttributes();

foreach ($attributes as $attribute =&gt; $values) {
    //
}
</code></pre>

<h4 id="getConnection"><code>getConnection</code></h4>

<p>Resolve the underlying <code>LdapRecord\Connection</code>:</p>

<pre><code class="language-php">$connection = $model-&gt;getConnection();

$config = $connection-&gt;getConfiguration();
</code></pre>

<h4 id="getConnectionName"><code>getConnectionName</code></h4>

<p>Get the connection name from the model:</p>

<blockquote>
  <p>If no connection is set on the model, <code>null</code> will be returned.</p>
</blockquote>

<pre><code class="language-php">class Entry extends Model
{
    protected $connection = 'domain-b';
}

// Returns 'domain-b'
$connectionName = (new Entry)-&gt;getConnectionName();
</code></pre>

<h4 id="getConvertedGuid"><code>getConvertedGuid</code></h4>

<p>Get the models string GUID:</p>

<pre><code class="language-php">// Example: bf9679e7-0de6-11d0-a285-00aa003049e2
$guid = $model-&gt;getConvertedGuid();
</code></pre>

<h4 id="getCreatableDn"><code>getCreatableDn</code></h4>

<p>Get the models creatable Distinguished Name:</p>

<pre><code class="language-php">$model = new Entry(['cn' =&gt; 'John Doe']);

// Returns: 'cn=John Doe,dc=local,dc=com'
$creatableDn = $model-&gt;getCreatableDn();

$model-&gt;cn = 'Jane Doe';

// Returns: 'cn=Jane Doe,dc=local,dc=com'
$creatableDn = $model-&gt;getCreatableDn();
</code></pre>

<h4 id="getCreatableRdn"><code>getCreatableRdn</code></h4>

<p>Get the models creatable relative Distinguished Name:</p>

<pre><code class="language-php">$model = new Entry(['cn' =&gt; 'John Doe']);

// Returns: 'cn=John Doe'
$creatableDn = $model-&gt;getCreatableRdn();

$model-&gt;cn = 'Jane Doe';

// Returns: 'cn=Jane Doe'
$creatableDn = $model-&gt;getCreatableRdn();
</code></pre>

<h4 id="getDateFormat"><code>getDateFormat</code></h4>

<p>Get the format that dates are serialized to:</p>

<pre><code class="language-php">// Returns: 'Y-m-d\TH:i:sO'
$model-&gt;getDateFormat();
</code></pre>

<h4 id="getDates"><code>getDates</code></h4>

<p>Get an array of attributes that should be mutated to dates:</p>

<pre><code class="language-php">$dates = $model-&gt;getDates();

// Displays: [
//    'createtimestamp' =&gt; 'ldap',
//    'modifytimestamp' =&gt; 'ldap',
// ]
var_dump($dates);
</code></pre>

<h4 id="getDirty"><code>getDirty</code></h4>

<p>Get the attributes that have been changed:</p>

<pre><code class="language-php">$model-&gt;cn = 'Changed';

foreach ($model-&gt;getDirty() as $attribute =&gt; $values) {
    // Displays: 'cn'
    echo $attribute;

    // Displays: ['Changed']
    var_dump($values);
}
</code></pre>

<h4 id="getDn"><code>getDn</code></h4>

<p>Get the models Distinguished Name:</p>

<pre><code class="language-php">// Displays: 'cn=John Doe,dc=local,dc=com'
echo $model-&gt;getDn();
</code></pre>

<h4 id="getFirstAttribute"><code>getFirstAttribute</code></h4>

<p>Get the first value of an attribute:</p>

<pre><code class="language-php">$model-&gt;proxyaddresses = ['first', 'second'];

// Returns: 'first'
$value = $model-&gt;getFirstAttribute('proxyaddresses');
</code></pre>

<h4 id="getGlobalScopes"><code>getGlobalScopes</code></h4>

<p>Get the global scopes set on the model:</p>

<pre><code class="language-php">Model::addGlobalScope('my-scope', function () {
    // ...
});

// Returns: ['my-scope' =&gt; \Closure]
$scopes = $model-&gt;getGlobalScopes();
</code></pre>

<h4 id="getGuidKey"><code>getGuidKey</code></h4>

<p>Get the attribute key that contains the objects GUID:</p>

<pre><code class="language-php">// Returns: 'objectguid'
$model-&gt;getGuidKey();
</code></pre>

<h4 id="getHidden"><code>getHidden</code></h4>

<p>Get the hidden attributes for the model:</p>

<pre><code class="language-php">$model-&gt;addHidden('cn');

// Returns: ['cn']
$model-&gt;getHidden();
</code></pre>

<h4 id="getModifications"><code>getModifications</code></h4>

<p>Get the models batch modifications to be processed:</p>

<pre><code class="language-php">$model-&gt;cn = 'Changed';

// Returns:
// [
//      [
//      'attrib' =&gt; 'cn',
//      'modtype' =&gt; 1,
//      'values' =&gt; ['Changed'],
//     ]
// ]
$mods = $model-&gt;getModifications();
</code></pre>

<h4 id="getName"><code>getName</code></h4>

<p>Get the name of a model:</p>

<pre><code class="language-php">$model-&gt;setDn('cn=John Doe,dc=local,dc=com');

// Returns: 'John Doe'
$name = $model-&gt;getName();
</code></pre>

<h4 id="getObjectGuid"><code>getObjectGuid</code></h4>

<p>Get the raw binary object GUID:</p>

<blockquote>
  <p>The raw binary object GUID will be returned when connecting to Active Directory.
  <br/><br/>
  The raw string GUID will be returned with other LDAP directories.</p>
</blockquote>

<pre><code class="language-php">$rawBinary = $model-&gt;getObjectGuid();
</code></pre>

<h4 id="getOriginal"><code>getOriginal</code></h4>

<p>Get the original, un-modified attributes on a model:</p>

<pre><code class="language-php">$model = Model::findBy('cn', 'Steve Bauman');

$model-&gt;cn = 'Changed';

// Returns:
// [
//    'cn' =&gt; ['Steve Bauman']
//    ...
// ]
$model-&gt;getOriginal();
</code></pre>

<h4 id="getParentDn"><code>getParentDn</code></h4>

<p>Get the direct parent Distinguished Name of a model:</p>

<pre><code class="language-php">$model = Model::find('cn=John Doe,dc=local,dc=com');

// Returns: 'dc=local,dc=com'
$model-&gt;getParentDn();

// Returns: 'ou=Users,dc=local,dc=com'
$model-&gt;getParentDn('cn=Steve Bauman,ou=Users,dc=local,dc=com');
</code></pre>

<h4 id="getRdn"><code>getRdn</code></h4>

<p>Get the models Relative Distinguished Name:</p>

<pre><code class="language-php">$model = Model::find('cn=John Doe,dc=local,dc=com');

// Returns: 'cn=John Doe'
$model-&gt;getRdn();

// Returns: 'cn=Steve Bauman'
$model-&gt;getRdn('cn=Steve Bauman,ou=Users,dc=local,dc=com');
</code></pre>

<h4 id="getVisible"><code>getVisible</code></h4>

<p>Get the attributes that should be visible when encoding a model using <code>json_encode</code>:</p>

<pre><code class="language-php">$model-&gt;addVisible('cn', 'sn');

// Returns: ['cn', 'sn']
$visibleAttributes = $model-&gt;getVisible();
</code></pre>

<h4 id="hasAttribute"><code>hasAttribute</code></h4>

<p>Determine if the model has an attribute with a value:</p>

<pre><code class="language-php">$model = Model::findBy('cn', 'Steve Bauman');

// Returns: true
$modle-&gt;hasAttribute('cn');

// Returns: false
$model-&gt;hasAttribute('non-existent');
</code></pre>

<h4 id="hasGetMutator"><code>hasGetMutator</code></h4>

<p>Determine if the model has a 'get' mutator for the given attribute:</p>

<pre><code class="language-php">class Entry extends Model
{
    public function getCnAttribute($values)
    {
        // ...
    }
}

$model = new Entry();

// Returns: true
$model-&gt;hasGetMutator('cn');
</code></pre>

<h4 id="hasSetMutator"><code>hasSetMutator</code></h4>

<p>Determine if the model has a 'set' mutator for the given attribute:</p>

<pre><code class="language-php">class Entry extends Model
{
    public function setCnAttribute($values)
    {
        // ...
    }
}

$model = new Entry();

// Returns: true
$model-&gt;hasSetAttribute('cn');
</code></pre>

<h4 id="inside"><code>inside</code></h4>

<p>Set the container that the model should be <strong>created</strong> inside:</p>

<blockquote>
  <p>Calling <code>inside()</code> on an existing model will not perform any move / rename operation.
  <br/><br/>
  Use <a href="#move">move</a> or <a href="#rename">rename</a> instead.</p>
</blockquote>

<pre><code class="language-php">$model = new Model();

// ...

$model-&gt;inside('ou=Container,dc=local,dc=com');

$model-&gt;save();
</code></pre>

<h4 id="is"><code>is</code></h4>

<p>Determine if a model is the same by comparing their Distinguished Names and connections:</p>

<pre><code class="language-php">// Returns: bool
$model-&gt;is($another);
</code></pre>

<h4 id="isAncestorOf"><code>isAncestorOf</code></h4>

<p>Determine if a model is an ancestor of another:</p>

<pre><code class="language-php">$user = User::find('cn=John Doe,ou=Accounting,ou=Accounts,dc=acme,dc=org');
$ou = OrganizationalUnit::find('ou=Accounts,dc=acme,dc=org');

// Returns: true
$ou-&gt;isAncestorOf($user);
</code></pre>

<h4 id="isChildOf"><code>isChildOf</code></h4>

<p>Determine if a model is an <strong>immediate</strong> child of another:</p>

<pre><code class="language-php">$ou = OrganizationalUnit::find('ou=Accounts,dc=acme,dc=org');
$user = User::find('cn=John Doe,ou=Accounts,dc=acme,dc=org');

// Returns: true
$user-&gt;isChildOf($ou);
</code></pre>

<h4 id="isDateAttribute"><code>isDateAttribute</code></h4>

<p>Determine if given attribute is a date attribute on the model:</p>

<pre><code class="language-php">class Entry extends Model
{
    protected $dates = ['whenchanged' =&gt; 'windows'];
}

$model = new Entry();

// Returns: true
$model-&gt;isDateAttribute('whenchanged');
</code></pre>

<h4 id="isDescendantOf"><code>isDescendantOf</code></h4>

<p>Determine if a model is a descendent of another:</p>

<pre><code class="language-php">$ou = OrganizationalUnit::find('ou=Accounts,dc=acme,dc=org');
$user = User::find('cn=John Doe,ou=Accounting,ou=Accounts,dc=acme,dc=org');

// Returns: true
$user-&gt;isDescendantOf($ou);
</code></pre>

<h4 id="isDirty"><code>isDirty</code></h4>

<p>Determine if the given attribute has been changed:</p>

<pre><code class="language-php">$model = Model::findBy('cn', 'Steve Bauman');

// Returns: false
$model-&gt;isDirty('cn');

$model-&gt;cn = 'Changed';

// Returns: true
$model-&gt;isDirty('cn');
</code></pre>

<h4 id="isParentOf"><code>isParentOf</code></h4>

<p>Determine if a model is an <strong>immediate</strong> parent of another:</p>

<pre><code class="language-php">$ou = OrganizationalUnit::find('ou=Accounts,dc=acme,dc=org');
$user = User::find('cn=John Doe,ou=Accounts,dc=acme,dc=org');

// Returns: true
$ou-&gt;isParentOf($user);
</code></pre>

<h4 id="makeHidden"><code>makeHidden</code></h4>

<p>Make the given, typically visible, attributes hidden on the model:</p>

<pre><code class="language-php">class Entry extends Model
{
    protected $visible = ['cn'];
}

// This will override the above:
$model-&gt;makeHidden('cn');
</code></pre>

<h4 id="makeVisible"><code>makeVisible</code></h4>

<p>Make the given, typically hidden, attributes visible on the model:</p>

<pre><code class="language-php">class Entry extends Model
{
    protected $hidden = ['cn'];
}

// This will override the above:
$model-&gt;makeVisible('cn');
</code></pre>

<h4 id="move"><code>move</code></h4>

<p>Move a model into the specified container:</p>

<pre><code class="language-php">$user = User::find('cn=Steve Bauman,dc=local,dc=com');

$ou = OrganizationalUnit::find('ou=Office Users,dc=local,dc=com');

$user-&gt;move($ou);

// Returns: 'cn=Steve Bauman,ou=Office Users,dc=local,d=com'
$user-&gt;getDn();
</code></pre>

<h4 id="newBatchModification"><code>newBatchModification</code></h4>

<p>Create a new <code>LdapRecord\Models\BatchModification</code> instance:</p>

<pre><code class="language-php">// Returns instance of: BatchModification
$mod = $model-&gt;newBatchModification(
    'cn', LDAP_MODIFY_BATCH_ADD, ['Steve Bauman']
);
</code></pre>

<h4 id="newCollection"><code>newCollection</code></h4>

<p>Create a new <code>Tightenco\Collect\Support\Collection</code>:</p>

<pre><code class="language-php">$collection = $model-&gt;newCollection($items = []);
</code></pre>

<h4 id="newInstance"><code>newInstance</code></h4>

<p>Create a <strong>new</strong> model instance:</p>

<pre><code class="language-php">$model = Model::findByAnr('sbauman');

$new = $model-&gt;newInstance();
</code></pre>

<h4 id="newQuery"><code>newQuery</code></h4>

<p>Create a <strong>new</strong> model query:</p>

<blockquote>
  <p>Global scopes and object classes <strong>will be applied</strong> to this query.</p>
</blockquote>

<pre><code class="language-php">$results = $model-&gt;newQuery()-&gt;where('cn', 'contains', 'Steve')-&gt;get();
</code></pre>

<h4 id="newQueryWithoutScopes"><code>newQueryWithoutScopes</code></h4>

<p>Create a new model query <strong>without</strong> global scopes:</p>

<blockquote>
  <p>Global scopes and object classes <strong>will not be applied</strong> to this query.</p>
</blockquote>

<pre><code class="language-php">$results = $model-&gt;newQueryWithoutScopes()-&gt;get();
</code></pre>

<h4 id="rename"><code>rename</code></h4>

<p>Rename a model and keep it's container location:</p>

<blockquote>
  <p>When renaming is successful, the models distinguished name is automatically
  updated to reflect its new name in the directory, so you may run further
  operations on it during the same request.</p>
</blockquote>

<pre><code class="language-php">$user = Model::find('cn=John Doe,dc=local,dc=com');

$user-&gt;rename('cn=Jane Doe');

// Returns: 'cn=Jane Doe,dc=local,dc=com'
$user-&gt;getDn();
</code></pre>

<h4 id="save"><code>save</code></h4>

<p>Persist the new or existing model to the directory:</p>

<pre><code class="language-php">// Save a new model:
$model = new Model(['cn' =&gt; 'John Doe']);

$model-&gt;save();

// Updating an existing model:
$model = Model::findBy('cn', 'John Doe');

$model-&gt;cn = 'Jane Doe';

$model-&gt;save();
</code></pre>

<p>You may also pass an array of attributes to persist to your LDAP directory:</p>

<pre><code class="language-php">$model-&gt;save(['cn' =&gt; 'Steve Bauman']);
</code></pre>

<h4 id="setAttribute"><code>setAttribute</code></h4>

<p>Set the value of an existing or non-existing attribute:</p>

<pre><code class="language-php">$model-&gt;setAttribute('attribute', 'value');

$model-&gt;setAttribute('attribute', ['foo', 'bar']);
</code></pre>

<h4 id="setConnection"><code>setConnection</code></h4>

<p>Set the name of the connection for the model to use:</p>

<pre><code class="language-php">$model = new Model();

// ...

$model-&gt;setConnection('domain-b');

// Model will be saved to 'domain-b'
$model-&gt;save();
</code></pre>

<h4 id="setDateFormat"><code>setDateFormat</code></h4>

<p>Set the date format to use when serializing LDAP dates:</p>

<pre><code class="language-php">$model = Model::findByAnr('sbauman');

$model-&gt;setDateFormat('Y-m-d H:i');

$attributes = json_encode($model);
</code></pre>

<h4 id="setDn"><code>setDn</code></h4>

<p>Set the Distinguished Name of the model to be created with:</p>

<pre><code class="language-php">$model = new Model();

$model-&gt;setDn('cn=John Doe,dc=local,dc=com');

$model-&gt;save();
</code></pre>

<h4 id="setFirstAttribute"><code>setFirstAttribute</code></h4>

<p>Set the first value of an existing or non-existing attribute:</p>

<pre><code class="language-php">$model = new Model();

$model-&gt;setFirstAttribute('cn', 'John Doe');

// Returns ['cn' =&gt; ['John Doe']]
$model-&gt;getAttributes();

$model-&gt;proxyaddresses = ['foo', 'bar'];

// Overwrites 'foo' with 'baz':
$model-&gt;setFirstAttribute('proxyaddresses', ['baz']);
</code></pre>

<h4 id="setHidden"><code>setHidden</code></h4>

<p>Clear defined hidden attributes and set the attributes
that should be hidden during serialization:</p>

<pre><code class="language-php">$model-&gt;setHidden(['cn', 'sn']);

// Attributes 'cn' and 'sn' will be removed:
$attributes = json_encode($model);
</code></pre>

<h4 id="setModifications"><code>setModifications</code></h4>

<p>Set the models batch modifications to be processed upon save:</p>

<pre><code class="language-php">$mods = [
    [
        'attrib'  =&gt; 'telephoneNumber',
        'modtype' =&gt; LDAP_MODIFY_BATCH_ADD,
        'values'  =&gt; ['+1 555 555 1717'],
    ]
];

$model-&gt;setModifications($mods);

$model-&gt;save();
</code></pre>

<h4 id="setVisible"><code>setVisible</code></h4>

<p>Clear defined visible attributes and set the attributes
that should be visible during serialization:</p>

<pre><code class="language-php">$model-&gt;setVisible(['cn', 'sn']);

// Only attributes 'cn' and 'sn' will be included:
$attributes = json_encode($model);
</code></pre>

<h4 id="siblings"><code>siblings</code></h4>

<p>Create a new query to retrieve a models siblings:</p>

<blockquote>
  <p>The existing model instance will be included in the query results.</p>
</blockquote>

<pre><code class="language-php">$siblings = $model-&gt;siblings()-&gt;get();
</code></pre>

<h4 id="synchronize"><code>synchronize</code></h4>

<p>Refresh a models attributes by re-retrieving them from your LDAP directory.</p>

<p>This will affect the current model instance:</p>

<pre><code class="language-php">$model-&gt;synchronize();
</code></pre>

<h4 id="update"><code>update</code></h4>

<p>Persist the changes of a model to the LDAP directory.</p>

<blockquote>
  <p>The <a href="#save">save</a> method should be used instead of <code>update</code> to persist new or existing models.
  <br/><br/>
  If the model does not exist in the directory, an exception will be thrown.</p>
</blockquote>

<pre><code class="language-php">$model-&gt;cn = 'John Doe';

$model-&gt;update();
</code></pre>

<p>You may also provide an array of attributes to persist to your LDAP directory:</p>

<pre><code class="language-php">$model-&gt;update(['cn' =&gt; 'John Doe']);
</code></pre>

<h4 id="updateAttribute"><code>updateAttribute</code></h4>

<p>Immediately updates an attribute value on the model.</p>

<p>Performs an <code>ldap_mod_replace</code> under the hood.</p>

<pre><code class="language-php">$model-&gt;updateAttribute('proxyaddresses', ['foo', 'bar']);
</code></pre>

                <div class="mt-12 pt-8 pb-6 border-t-2 border-purple-200">
                        <div class="flex flex-col-reverse md:flex-row justify-between items-center">
    <div class="flex flex-col items-center md:items-start">
                    <span class="font-black text-gray-500 text-sm tracking-wider uppercase pb-1">← Previous Topic</span>
            <h4 class="font-bold underline m-0 text-blue-700">
                <a href="/docs/model-mutators">Accessors & Mutators</a>
            </h4>
            </div>
    <div class="mb-8 md:mb-0 flex flex-col items-center md:items-end">
                    <span class="font-black text-gray-500 text-sm tracking-wider uppercase pb-1">Next Topic →</span>
            <h4 class="font-bold underline m-0 text-blue-700">
                <a href="/docs/active-directory/users">Users</a>
            </h4>
            </div>
</div>
                </div>

                <div class="mt-8 text-center hidden md:block">
                    <a class="font-black text-gray-500 text-sm tracking-wider uppercase" href="https://github.com/DirectoryTree/LdapRecord.com/blob/master/source//docs/model-api.md" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="w-6 h-6 inline-block fill-current mr-1">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
                        </svg>

                        Edit this Page
                    </a>
                </div>
            </div>
        </div>
    </section>
        </main>

        
        <script src="/assets/build/js/main.js?id=f4770a7909c663b5fd4a"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>
            <script type="text/javascript">
            docsearch({
                apiKey: 'bc526397341486f980ca0b7ee7a0fa61',
                indexName: 'ldaprecord',
                inputSelector: '#docsearch-input',
                debug: false // Set debug to true if you want to inspect the dropdown
            });

            const searchInput = {
                toggle() {
                    const menu = document.getElementById('js-search-input');
                    menu.classList.toggle('hidden');
                    menu.classList.toggle('md:block');
                    document.getElementById('docsearch-input').focus();
                },
            }
        </script>
        </body>
</html>
